{% extends 'base.html.twig' %}

{% block title %}Préférences - EcoRde
{% endblock %}

{% block body %}
<main class="container-xl">
	<h1 class="text-dark">
		Vos préférences de conducteur
	</h1>

	<div class="mt-4">
		<h3 class="text-primary">A bord de vos trajets vous avez établi ces règles :</h3>
		<p>Musique :
			<strong class="text-{{ preferences.musicAllowed ? 'success' : 'danger' }}">{{ preferences.musicAllowed ? 'Autorisé' : 'Réfusé' }}</strong>
		</p>
		<p>Fumer  :
			<strong class="text-{{ preferences.smokingAllowed ? 'success' : 'danger' }}">{{ preferences.smokingAllowed ? 'Autorisé' : 'Réfusé' }}</strong>
		</p>
		<p>Animaux :
			<strong class="text-{{ preferences.animalsAllowed ? 'success' : 'danger' }}">{{ preferences.animalsAllowed ? 'Autorisé' : 'Réfusé' }}</strong>
		</p>
	</div>

<hr class="my-4">

<h2 class="text-dark">Modifier mes préférences</h2>

<form method="POST" action="{{ path('app_driver_preferences_update') }}">
	<input type="hidden" name="_token" value="{{ csrf_token('update_preferences') }}">

	<div class="form-check form-switch my-2">
		<input class="form-check-input" type="checkbox" id="musicAllowed" name="musicAllowed" {% if preferences.musicAllowed %}checked{% endif %}>
		<label class="form-check-label" for="musicAllowed">Autoriser la musique</label>
	</div>

	<div class="form-check form-switch my-2">
		<input class="form-check-input" type="checkbox" id="smokingAllowed" name="smokingAllowed" {% if preferences.smokingAllowed %}checked{% endif %}>
		<label class="form-check-label" for="smokingAllowed">Autoriser à fumer</label>
	</div>

	<div class="form-check form-switch my-2">
		<input class="form-check-input" type="checkbox" id="animalsAllowed" name="animalsAllowed" {% if preferences.animalsAllowed %}checked{% endif %}>
		<label class="form-check-label" for="animalsAllowed">Autoriser les animaux</label>
	</div>

	<button type="submit" class="btn btn-primary mt-3">Enregistrer</button>
</form>
</main>
{% endblock %}
